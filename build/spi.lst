ARM GAS  /tmp/ccuCi7MD.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.MX_SPI1_Init,"ax",%progbits
  20              		.align	1
  21              		.p2align 2,,3
  22              		.global	MX_SPI1_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	MX_SPI1_Init:
  28              	.LFB235:
  29              		.file 1 "Core/Src/spi.c"
   1:Core/Src/spi.c **** /* USER CODE BEGIN Header */
   2:Core/Src/spi.c **** /**
   3:Core/Src/spi.c ****   ******************************************************************************
   4:Core/Src/spi.c ****   * @file    spi.c
   5:Core/Src/spi.c ****   * @brief   This file provides code for the configuration
   6:Core/Src/spi.c ****   *          of the SPI instances.
   7:Core/Src/spi.c ****   ******************************************************************************
   8:Core/Src/spi.c ****   * @attention
   9:Core/Src/spi.c ****   *
  10:Core/Src/spi.c ****   * Copyright (c) 2022 STMicroelectronics.
  11:Core/Src/spi.c ****   * All rights reserved.
  12:Core/Src/spi.c ****   *
  13:Core/Src/spi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Core/Src/spi.c ****   * in the root directory of this software component.
  15:Core/Src/spi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Core/Src/spi.c ****   *
  17:Core/Src/spi.c ****   ******************************************************************************
  18:Core/Src/spi.c ****   */
  19:Core/Src/spi.c **** /* USER CODE END Header */
  20:Core/Src/spi.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/spi.c **** #include "spi.h"
  22:Core/Src/spi.c **** 
  23:Core/Src/spi.c **** /* USER CODE BEGIN 0 */
  24:Core/Src/spi.c **** 
  25:Core/Src/spi.c **** /* USER CODE END 0 */
  26:Core/Src/spi.c **** 
  27:Core/Src/spi.c **** SPI_HandleTypeDef hspi1;
  28:Core/Src/spi.c **** SPI_HandleTypeDef hspi2;
  29:Core/Src/spi.c **** DMA_HandleTypeDef hdma_spi1_rx;
ARM GAS  /tmp/ccuCi7MD.s 			page 2


  30:Core/Src/spi.c **** DMA_HandleTypeDef hdma_spi1_tx;
  31:Core/Src/spi.c **** 
  32:Core/Src/spi.c **** /* SPI1 init function */
  33:Core/Src/spi.c **** void MX_SPI1_Init(void)
  34:Core/Src/spi.c **** {
  30              		.loc 1 34 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  35:Core/Src/spi.c **** 
  36:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_Init 0 */
  37:Core/Src/spi.c **** 
  38:Core/Src/spi.c ****   /* USER CODE END SPI1_Init 0 */
  39:Core/Src/spi.c **** 
  40:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_Init 1 */
  41:Core/Src/spi.c **** 
  42:Core/Src/spi.c ****   /* USER CODE END SPI1_Init 1 */
  43:Core/Src/spi.c ****   hspi1.Instance = SPI1;
  34              		.loc 1 43 3 view .LVU1
  34:Core/Src/spi.c **** 
  35              		.loc 1 34 1 is_stmt 0 view .LVU2
  36 0000 10B5     		push	{r4, lr}
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40              		.loc 1 43 18 view .LVU3
  41 0002 0F48     		ldr	r0, .L6
  42 0004 0F4C     		ldr	r4, .L6+4
  44:Core/Src/spi.c ****   hspi1.Init.Mode = SPI_MODE_MASTER;
  43              		.loc 1 44 19 view .LVU4
  44 0006 4FF48272 		mov	r2, #260
  45 000a C0E90042 		strd	r4, r2, [r0]
  45:Core/Src/spi.c ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
  46              		.loc 1 45 3 is_stmt 1 view .LVU5
  46:Core/Src/spi.c ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
  47:Core/Src/spi.c ****   hspi1.Init.CLKPolarity = SPI_POLARITY_HIGH;
  47              		.loc 1 47 26 is_stmt 0 view .LVU6
  48 000e 0221     		movs	r1, #2
  48:Core/Src/spi.c ****   hspi1.Init.CLKPhase = SPI_PHASE_2EDGE;
  49              		.loc 1 48 23 view .LVU7
  50 0010 0122     		movs	r2, #1
  45:Core/Src/spi.c ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
  51              		.loc 1 45 24 view .LVU8
  52 0012 0023     		movs	r3, #0
  53              		.loc 1 48 23 view .LVU9
  54 0014 C0E90412 		strd	r1, r2, [r0, #16]
  49:Core/Src/spi.c ****   hspi1.Init.NSS = SPI_NSS_SOFT;
  55              		.loc 1 49 18 view .LVU10
  56 0018 4FF40074 		mov	r4, #512
  50:Core/Src/spi.c ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_256;
  57              		.loc 1 50 32 view .LVU11
  58 001c 3821     		movs	r1, #56
  51:Core/Src/spi.c ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
  52:Core/Src/spi.c ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
  53:Core/Src/spi.c ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  54:Core/Src/spi.c ****   hspi1.Init.CRCPolynomial = 10;
  59              		.loc 1 54 28 view .LVU12
ARM GAS  /tmp/ccuCi7MD.s 			page 3


  60 001e 0A22     		movs	r2, #10
  46:Core/Src/spi.c ****   hspi1.Init.CLKPolarity = SPI_POLARITY_HIGH;
  61              		.loc 1 46 23 view .LVU13
  62 0020 C0E90233 		strd	r3, r3, [r0, #8]
  47:Core/Src/spi.c ****   hspi1.Init.CLKPhase = SPI_PHASE_2EDGE;
  63              		.loc 1 47 3 is_stmt 1 view .LVU14
  49:Core/Src/spi.c ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_256;
  64              		.loc 1 49 3 view .LVU15
  50:Core/Src/spi.c ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
  65              		.loc 1 50 32 is_stmt 0 view .LVU16
  66 0024 C0E90641 		strd	r4, r1, [r0, #24]
  51:Core/Src/spi.c ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
  67              		.loc 1 51 3 is_stmt 1 view .LVU17
  52:Core/Src/spi.c ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  68              		.loc 1 52 21 is_stmt 0 view .LVU18
  69 0028 C0E90833 		strd	r3, r3, [r0, #32]
  53:Core/Src/spi.c ****   hspi1.Init.CRCPolynomial = 10;
  70              		.loc 1 53 3 is_stmt 1 view .LVU19
  71              		.loc 1 54 28 is_stmt 0 view .LVU20
  72 002c C0E90A32 		strd	r3, r2, [r0, #40]
  55:Core/Src/spi.c ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
  73              		.loc 1 55 3 is_stmt 1 view .LVU21
  74              		.loc 1 55 7 is_stmt 0 view .LVU22
  75 0030 FFF7FEFF 		bl	HAL_SPI_Init
  76              	.LVL0:
  77              		.loc 1 55 6 view .LVU23
  78 0034 00B9     		cbnz	r0, .L5
  56:Core/Src/spi.c ****   {
  57:Core/Src/spi.c ****     Error_Handler();
  58:Core/Src/spi.c ****   }
  59:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_Init 2 */
  60:Core/Src/spi.c **** 
  61:Core/Src/spi.c ****   /* USER CODE END SPI1_Init 2 */
  62:Core/Src/spi.c **** 
  63:Core/Src/spi.c **** }
  79              		.loc 1 63 1 view .LVU24
  80 0036 10BD     		pop	{r4, pc}
  81              	.L5:
  57:Core/Src/spi.c ****   }
  82              		.loc 1 57 5 is_stmt 1 view .LVU25
  83              		.loc 1 63 1 is_stmt 0 view .LVU26
  84 0038 BDE81040 		pop	{r4, lr}
  85              		.cfi_restore 14
  86              		.cfi_restore 4
  87              		.cfi_def_cfa_offset 0
  57:Core/Src/spi.c ****   }
  88              		.loc 1 57 5 view .LVU27
  89 003c FFF7FEBF 		b	Error_Handler
  90              	.LVL1:
  91              	.L7:
  92              		.align	2
  93              	.L6:
  94 0040 00000000 		.word	.LANCHOR0
  95 0044 00300140 		.word	1073819648
  96              		.cfi_endproc
  97              	.LFE235:
  99              		.section	.text.MX_SPI2_Init,"ax",%progbits
ARM GAS  /tmp/ccuCi7MD.s 			page 4


 100              		.align	1
 101              		.p2align 2,,3
 102              		.global	MX_SPI2_Init
 103              		.syntax unified
 104              		.thumb
 105              		.thumb_func
 107              	MX_SPI2_Init:
 108              	.LFB236:
  64:Core/Src/spi.c **** /* SPI2 init function */
  65:Core/Src/spi.c **** void MX_SPI2_Init(void)
  66:Core/Src/spi.c **** {
 109              		.loc 1 66 1 is_stmt 1 view -0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 0
 112              		@ frame_needed = 0, uses_anonymous_args = 0
  67:Core/Src/spi.c **** 
  68:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_Init 0 */
  69:Core/Src/spi.c **** 
  70:Core/Src/spi.c ****   /* USER CODE END SPI2_Init 0 */
  71:Core/Src/spi.c **** 
  72:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_Init 1 */
  73:Core/Src/spi.c **** 
  74:Core/Src/spi.c ****   /* USER CODE END SPI2_Init 1 */
  75:Core/Src/spi.c ****   hspi2.Instance = SPI2;
 113              		.loc 1 75 3 view .LVU29
  66:Core/Src/spi.c **** 
 114              		.loc 1 66 1 is_stmt 0 view .LVU30
 115 0000 10B5     		push	{r4, lr}
 116              		.cfi_def_cfa_offset 8
 117              		.cfi_offset 4, -8
 118              		.cfi_offset 14, -4
 119              		.loc 1 75 18 view .LVU31
 120 0002 0F48     		ldr	r0, .L12
 121 0004 0F4C     		ldr	r4, .L12+4
  76:Core/Src/spi.c ****   hspi2.Init.Mode = SPI_MODE_MASTER;
 122              		.loc 1 76 19 view .LVU32
 123 0006 4FF48272 		mov	r2, #260
 124 000a C0E90042 		strd	r4, r2, [r0]
  77:Core/Src/spi.c ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
 125              		.loc 1 77 3 is_stmt 1 view .LVU33
  78:Core/Src/spi.c ****   hspi2.Init.DataSize = SPI_DATASIZE_8BIT;
  79:Core/Src/spi.c ****   hspi2.Init.CLKPolarity = SPI_POLARITY_HIGH;
 126              		.loc 1 79 26 is_stmt 0 view .LVU34
 127 000e 0221     		movs	r1, #2
  80:Core/Src/spi.c ****   hspi2.Init.CLKPhase = SPI_PHASE_2EDGE;
 128              		.loc 1 80 23 view .LVU35
 129 0010 0122     		movs	r2, #1
  77:Core/Src/spi.c ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
 130              		.loc 1 77 24 view .LVU36
 131 0012 0023     		movs	r3, #0
 132              		.loc 1 80 23 view .LVU37
 133 0014 C0E90412 		strd	r1, r2, [r0, #16]
  81:Core/Src/spi.c ****   hspi2.Init.NSS = SPI_NSS_SOFT;
 134              		.loc 1 81 18 view .LVU38
 135 0018 4FF40074 		mov	r4, #512
  82:Core/Src/spi.c ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_256;
 136              		.loc 1 82 32 view .LVU39
ARM GAS  /tmp/ccuCi7MD.s 			page 5


 137 001c 3821     		movs	r1, #56
  83:Core/Src/spi.c ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
  84:Core/Src/spi.c ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
  85:Core/Src/spi.c ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  86:Core/Src/spi.c ****   hspi2.Init.CRCPolynomial = 10;
 138              		.loc 1 86 28 view .LVU40
 139 001e 0A22     		movs	r2, #10
  78:Core/Src/spi.c ****   hspi2.Init.CLKPolarity = SPI_POLARITY_HIGH;
 140              		.loc 1 78 23 view .LVU41
 141 0020 C0E90233 		strd	r3, r3, [r0, #8]
  79:Core/Src/spi.c ****   hspi2.Init.CLKPhase = SPI_PHASE_2EDGE;
 142              		.loc 1 79 3 is_stmt 1 view .LVU42
  81:Core/Src/spi.c ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_256;
 143              		.loc 1 81 3 view .LVU43
  82:Core/Src/spi.c ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
 144              		.loc 1 82 32 is_stmt 0 view .LVU44
 145 0024 C0E90641 		strd	r4, r1, [r0, #24]
  83:Core/Src/spi.c ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
 146              		.loc 1 83 3 is_stmt 1 view .LVU45
  84:Core/Src/spi.c ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 147              		.loc 1 84 21 is_stmt 0 view .LVU46
 148 0028 C0E90833 		strd	r3, r3, [r0, #32]
  85:Core/Src/spi.c ****   hspi2.Init.CRCPolynomial = 10;
 149              		.loc 1 85 3 is_stmt 1 view .LVU47
 150              		.loc 1 86 28 is_stmt 0 view .LVU48
 151 002c C0E90A32 		strd	r3, r2, [r0, #40]
  87:Core/Src/spi.c ****   if (HAL_SPI_Init(&hspi2) != HAL_OK)
 152              		.loc 1 87 3 is_stmt 1 view .LVU49
 153              		.loc 1 87 7 is_stmt 0 view .LVU50
 154 0030 FFF7FEFF 		bl	HAL_SPI_Init
 155              	.LVL2:
 156              		.loc 1 87 6 view .LVU51
 157 0034 00B9     		cbnz	r0, .L11
  88:Core/Src/spi.c ****   {
  89:Core/Src/spi.c ****     Error_Handler();
  90:Core/Src/spi.c ****   }
  91:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_Init 2 */
  92:Core/Src/spi.c **** 
  93:Core/Src/spi.c ****   /* USER CODE END SPI2_Init 2 */
  94:Core/Src/spi.c **** 
  95:Core/Src/spi.c **** }
 158              		.loc 1 95 1 view .LVU52
 159 0036 10BD     		pop	{r4, pc}
 160              	.L11:
  89:Core/Src/spi.c ****   }
 161              		.loc 1 89 5 is_stmt 1 view .LVU53
 162              		.loc 1 95 1 is_stmt 0 view .LVU54
 163 0038 BDE81040 		pop	{r4, lr}
 164              		.cfi_restore 14
 165              		.cfi_restore 4
 166              		.cfi_def_cfa_offset 0
  89:Core/Src/spi.c ****   }
 167              		.loc 1 89 5 view .LVU55
 168 003c FFF7FEBF 		b	Error_Handler
 169              	.LVL3:
 170              	.L13:
 171              		.align	2
ARM GAS  /tmp/ccuCi7MD.s 			page 6


 172              	.L12:
 173 0040 00000000 		.word	.LANCHOR1
 174 0044 00380040 		.word	1073756160
 175              		.cfi_endproc
 176              	.LFE236:
 178              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 179              		.align	1
 180              		.p2align 2,,3
 181              		.global	HAL_SPI_MspInit
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 186              	HAL_SPI_MspInit:
 187              	.LVL4:
 188              	.LFB237:
  96:Core/Src/spi.c **** 
  97:Core/Src/spi.c **** void HAL_SPI_MspInit(SPI_HandleTypeDef* spiHandle)
  98:Core/Src/spi.c **** {
 189              		.loc 1 98 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 40
 192              		@ frame_needed = 0, uses_anonymous_args = 0
  99:Core/Src/spi.c **** 
 100:Core/Src/spi.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 193              		.loc 1 100 3 view .LVU57
  98:Core/Src/spi.c **** 
 194              		.loc 1 98 1 is_stmt 0 view .LVU58
 195 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 196              		.cfi_def_cfa_offset 32
 197              		.cfi_offset 4, -32
 198              		.cfi_offset 5, -28
 199              		.cfi_offset 6, -24
 200              		.cfi_offset 7, -20
 201              		.cfi_offset 8, -16
 202              		.cfi_offset 9, -12
 203              		.cfi_offset 10, -8
 204              		.cfi_offset 14, -4
 101:Core/Src/spi.c ****   if(spiHandle->Instance==SPI1)
 205              		.loc 1 101 15 view .LVU59
 206 0004 0368     		ldr	r3, [r0]
 207              		.loc 1 101 5 view .LVU60
 208 0006 564A     		ldr	r2, .L30
  98:Core/Src/spi.c **** 
 209              		.loc 1 98 1 view .LVU61
 210 0008 8AB0     		sub	sp, sp, #40
 211              		.cfi_def_cfa_offset 72
 100:Core/Src/spi.c ****   if(spiHandle->Instance==SPI1)
 212              		.loc 1 100 20 view .LVU62
 213 000a 0024     		movs	r4, #0
 214              		.loc 1 101 5 view .LVU63
 215 000c 9342     		cmp	r3, r2
 100:Core/Src/spi.c ****   if(spiHandle->Instance==SPI1)
 216              		.loc 1 100 20 view .LVU64
 217 000e CDE90544 		strd	r4, r4, [sp, #20]
 218 0012 CDE90744 		strd	r4, r4, [sp, #28]
 219 0016 0994     		str	r4, [sp, #36]
 220              		.loc 1 101 3 is_stmt 1 view .LVU65
ARM GAS  /tmp/ccuCi7MD.s 			page 7


 221              		.loc 1 101 5 is_stmt 0 view .LVU66
 222 0018 05D0     		beq	.L26
 102:Core/Src/spi.c ****   {
 103:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_MspInit 0 */
 104:Core/Src/spi.c **** 
 105:Core/Src/spi.c ****   /* USER CODE END SPI1_MspInit 0 */
 106:Core/Src/spi.c ****     /* SPI1 clock enable */
 107:Core/Src/spi.c ****     __HAL_RCC_SPI1_CLK_ENABLE();
 108:Core/Src/spi.c **** 
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 110:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 111:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 112:Core/Src/spi.c ****     PB4     ------> SPI1_MISO
 113:Core/Src/spi.c ****     PB3     ------> SPI1_SCK
 114:Core/Src/spi.c ****     PA7     ------> SPI1_MOSI
 115:Core/Src/spi.c ****     */
 116:Core/Src/spi.c ****     GPIO_InitStruct.Pin = GPIO_PIN_4|GPIO_PIN_3;
 117:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 118:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 119:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 120:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 121:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 122:Core/Src/spi.c **** 
 123:Core/Src/spi.c ****     GPIO_InitStruct.Pin = GPIO_PIN_7;
 124:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 125:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 126:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 127:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 128:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 129:Core/Src/spi.c **** 
 130:Core/Src/spi.c ****     /* SPI1 DMA Init */
 131:Core/Src/spi.c ****     /* SPI1_RX Init */
 132:Core/Src/spi.c ****     hdma_spi1_rx.Instance = DMA2_Stream2;
 133:Core/Src/spi.c ****     hdma_spi1_rx.Init.Channel = DMA_CHANNEL_3;
 134:Core/Src/spi.c ****     hdma_spi1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 135:Core/Src/spi.c ****     hdma_spi1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 136:Core/Src/spi.c ****     hdma_spi1_rx.Init.MemInc = DMA_MINC_ENABLE;
 137:Core/Src/spi.c ****     hdma_spi1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 138:Core/Src/spi.c ****     hdma_spi1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 139:Core/Src/spi.c ****     hdma_spi1_rx.Init.Mode = DMA_NORMAL;
 140:Core/Src/spi.c ****     hdma_spi1_rx.Init.Priority = DMA_PRIORITY_VERY_HIGH;
 141:Core/Src/spi.c ****     hdma_spi1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 142:Core/Src/spi.c ****     if (HAL_DMA_Init(&hdma_spi1_rx) != HAL_OK)
 143:Core/Src/spi.c ****     {
 144:Core/Src/spi.c ****       Error_Handler();
 145:Core/Src/spi.c ****     }
 146:Core/Src/spi.c **** 
 147:Core/Src/spi.c ****     __HAL_LINKDMA(spiHandle,hdmarx,hdma_spi1_rx);
 148:Core/Src/spi.c **** 
 149:Core/Src/spi.c ****     /* SPI1_TX Init */
 150:Core/Src/spi.c ****     hdma_spi1_tx.Instance = DMA2_Stream3;
 151:Core/Src/spi.c ****     hdma_spi1_tx.Init.Channel = DMA_CHANNEL_3;
 152:Core/Src/spi.c ****     hdma_spi1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 153:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 154:Core/Src/spi.c ****     hdma_spi1_tx.Init.MemInc = DMA_MINC_ENABLE;
 155:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 156:Core/Src/spi.c ****     hdma_spi1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
ARM GAS  /tmp/ccuCi7MD.s 			page 8


 157:Core/Src/spi.c ****     hdma_spi1_tx.Init.Mode = DMA_NORMAL;
 158:Core/Src/spi.c ****     hdma_spi1_tx.Init.Priority = DMA_PRIORITY_HIGH;
 159:Core/Src/spi.c ****     hdma_spi1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 160:Core/Src/spi.c ****     if (HAL_DMA_Init(&hdma_spi1_tx) != HAL_OK)
 161:Core/Src/spi.c ****     {
 162:Core/Src/spi.c ****       Error_Handler();
 163:Core/Src/spi.c ****     }
 164:Core/Src/spi.c **** 
 165:Core/Src/spi.c ****     __HAL_LINKDMA(spiHandle,hdmatx,hdma_spi1_tx);
 166:Core/Src/spi.c **** 
 167:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_MspInit 1 */
 168:Core/Src/spi.c **** 
 169:Core/Src/spi.c ****   /* USER CODE END SPI1_MspInit 1 */
 170:Core/Src/spi.c ****   }
 171:Core/Src/spi.c ****   else if(spiHandle->Instance==SPI2)
 223              		.loc 1 171 8 is_stmt 1 view .LVU67
 224              		.loc 1 171 10 is_stmt 0 view .LVU68
 225 001a 524A     		ldr	r2, .L30+4
 226 001c 9342     		cmp	r3, r2
 227 001e 74D0     		beq	.L27
 172:Core/Src/spi.c ****   {
 173:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_MspInit 0 */
 174:Core/Src/spi.c **** 
 175:Core/Src/spi.c ****   /* USER CODE END SPI2_MspInit 0 */
 176:Core/Src/spi.c ****     /* SPI2 clock enable */
 177:Core/Src/spi.c ****     __HAL_RCC_SPI2_CLK_ENABLE();
 178:Core/Src/spi.c **** 
 179:Core/Src/spi.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 180:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 181:Core/Src/spi.c ****     PB13     ------> SPI2_SCK
 182:Core/Src/spi.c ****     PB14     ------> SPI2_MISO
 183:Core/Src/spi.c ****     PB15     ------> SPI2_MOSI
 184:Core/Src/spi.c ****     */
 185:Core/Src/spi.c ****     GPIO_InitStruct.Pin = GPIO_PIN_13|GPIO_PIN_14|GPIO_PIN_15;
 186:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 187:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 188:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 189:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 190:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 191:Core/Src/spi.c **** 
 192:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_MspInit 1 */
 193:Core/Src/spi.c **** 
 194:Core/Src/spi.c ****   /* USER CODE END SPI2_MspInit 1 */
 195:Core/Src/spi.c ****   }
 196:Core/Src/spi.c **** }
 228              		.loc 1 196 1 view .LVU69
 229 0020 0AB0     		add	sp, sp, #40
 230              		.cfi_remember_state
 231              		.cfi_def_cfa_offset 32
 232              		@ sp needed
 233 0022 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 234              	.L26:
 235              		.cfi_restore_state
 107:Core/Src/spi.c **** 
 236              		.loc 1 107 5 is_stmt 1 view .LVU70
 237              	.LBB2:
 107:Core/Src/spi.c **** 
ARM GAS  /tmp/ccuCi7MD.s 			page 9


 238              		.loc 1 107 5 view .LVU71
 239 0026 504B     		ldr	r3, .L30+8
 240 0028 0094     		str	r4, [sp]
 107:Core/Src/spi.c **** 
 241              		.loc 1 107 5 view .LVU72
 242 002a 5A6C     		ldr	r2, [r3, #68]
 243              	.LBE2:
 132:Core/Src/spi.c ****     hdma_spi1_rx.Init.Channel = DMA_CHANNEL_3;
 244              		.loc 1 132 27 is_stmt 0 view .LVU73
 245 002c 4F4E     		ldr	r6, .L30+12
 246              	.LBB3:
 107:Core/Src/spi.c **** 
 247              		.loc 1 107 5 view .LVU74
 248 002e 42F48052 		orr	r2, r2, #4096
 249 0032 5A64     		str	r2, [r3, #68]
 107:Core/Src/spi.c **** 
 250              		.loc 1 107 5 is_stmt 1 view .LVU75
 251 0034 5A6C     		ldr	r2, [r3, #68]
 252 0036 02F48052 		and	r2, r2, #4096
 253 003a 0092     		str	r2, [sp]
 107:Core/Src/spi.c **** 
 254              		.loc 1 107 5 view .LVU76
 255 003c 009A     		ldr	r2, [sp]
 256              	.LBE3:
 107:Core/Src/spi.c **** 
 257              		.loc 1 107 5 view .LVU77
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 258              		.loc 1 109 5 view .LVU78
 259              	.LBB4:
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 260              		.loc 1 109 5 view .LVU79
 261 003e 0194     		str	r4, [sp, #4]
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 262              		.loc 1 109 5 view .LVU80
 263 0040 1A6B     		ldr	r2, [r3, #48]
 264 0042 42F00202 		orr	r2, r2, #2
 265 0046 1A63     		str	r2, [r3, #48]
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 266              		.loc 1 109 5 view .LVU81
 267 0048 1A6B     		ldr	r2, [r3, #48]
 268 004a 02F00202 		and	r2, r2, #2
 269 004e 0192     		str	r2, [sp, #4]
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 270              		.loc 1 109 5 view .LVU82
 271 0050 019A     		ldr	r2, [sp, #4]
 272              	.LBE4:
 109:Core/Src/spi.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 273              		.loc 1 109 5 view .LVU83
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 274              		.loc 1 110 5 view .LVU84
 275              	.LBB5:
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 276              		.loc 1 110 5 view .LVU85
 277 0052 0294     		str	r4, [sp, #8]
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 278              		.loc 1 110 5 view .LVU86
 279 0054 1A6B     		ldr	r2, [r3, #48]
ARM GAS  /tmp/ccuCi7MD.s 			page 10


 280 0056 42F00102 		orr	r2, r2, #1
 281 005a 1A63     		str	r2, [r3, #48]
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 282              		.loc 1 110 5 view .LVU87
 283 005c 1B6B     		ldr	r3, [r3, #48]
 284 005e 03F00103 		and	r3, r3, #1
 285 0062 0293     		str	r3, [sp, #8]
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 286              		.loc 1 110 5 view .LVU88
 287              	.LBE5:
 117:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 288              		.loc 1 117 26 is_stmt 0 view .LVU89
 289 0064 4FF0020A 		mov	r10, #2
 118:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 290              		.loc 1 118 26 view .LVU90
 291 0068 4FF00109 		mov	r9, #1
 116:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 292              		.loc 1 116 25 view .LVU91
 293 006c 1823     		movs	r3, #24
 120:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 294              		.loc 1 120 31 view .LVU92
 295 006e 4FF00308 		mov	r8, #3
 296 0072 0527     		movs	r7, #5
 121:Core/Src/spi.c **** 
 297              		.loc 1 121 5 view .LVU93
 298 0074 05A9     		add	r1, sp, #20
 299 0076 0546     		mov	r5, r0
 300 0078 3D48     		ldr	r0, .L30+16
 301              	.LVL5:
 116:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 302              		.loc 1 116 25 view .LVU94
 303 007a 0593     		str	r3, [sp, #20]
 118:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 304              		.loc 1 118 26 view .LVU95
 305 007c CDE906A9 		strd	r10, r9, [sp, #24]
 306              	.LBB6:
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 307              		.loc 1 110 5 view .LVU96
 308 0080 029B     		ldr	r3, [sp, #8]
 309              	.LBE6:
 110:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 310              		.loc 1 110 5 is_stmt 1 view .LVU97
 116:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 311              		.loc 1 116 5 view .LVU98
 117:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 312              		.loc 1 117 5 view .LVU99
 119:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 313              		.loc 1 119 5 view .LVU100
 120:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 314              		.loc 1 120 31 is_stmt 0 view .LVU101
 315 0082 CDE90887 		strd	r8, r7, [sp, #32]
 121:Core/Src/spi.c **** 
 316              		.loc 1 121 5 is_stmt 1 view .LVU102
 317 0086 FFF7FEFF 		bl	HAL_GPIO_Init
 318              	.LVL6:
 123:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 319              		.loc 1 123 5 view .LVU103
ARM GAS  /tmp/ccuCi7MD.s 			page 11


 123:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 320              		.loc 1 123 25 is_stmt 0 view .LVU104
 321 008a 8023     		movs	r3, #128
 128:Core/Src/spi.c **** 
 322              		.loc 1 128 5 view .LVU105
 323 008c 3948     		ldr	r0, .L30+20
 123:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 324              		.loc 1 123 25 view .LVU106
 325 008e 0593     		str	r3, [sp, #20]
 124:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 326              		.loc 1 124 5 is_stmt 1 view .LVU107
 125:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 327              		.loc 1 125 5 view .LVU108
 126:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 328              		.loc 1 126 5 view .LVU109
 127:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 329              		.loc 1 127 5 view .LVU110
 128:Core/Src/spi.c **** 
 330              		.loc 1 128 5 view .LVU111
 331 0090 05A9     		add	r1, sp, #20
 125:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 332              		.loc 1 125 26 is_stmt 0 view .LVU112
 333 0092 CDE906A9 		strd	r10, r9, [sp, #24]
 126:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 334              		.loc 1 126 27 view .LVU113
 335 0096 CDF82080 		str	r8, [sp, #32]
 127:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 336              		.loc 1 127 31 view .LVU114
 337 009a 0997     		str	r7, [sp, #36]
 128:Core/Src/spi.c **** 
 338              		.loc 1 128 5 view .LVU115
 339 009c FFF7FEFF 		bl	HAL_GPIO_Init
 340              	.LVL7:
 132:Core/Src/spi.c ****     hdma_spi1_rx.Init.Channel = DMA_CHANNEL_3;
 341              		.loc 1 132 5 is_stmt 1 view .LVU116
 133:Core/Src/spi.c ****     hdma_spi1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 342              		.loc 1 133 31 is_stmt 0 view .LVU117
 343 00a0 354A     		ldr	r2, .L30+24
 141:Core/Src/spi.c ****     if (HAL_DMA_Init(&hdma_spi1_rx) != HAL_OK)
 344              		.loc 1 141 32 view .LVU118
 345 00a2 7462     		str	r4, [r6, #36]
 133:Core/Src/spi.c ****     hdma_spi1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 346              		.loc 1 133 31 view .LVU119
 347 00a4 4FF0C063 		mov	r3, #100663296
 348 00a8 C6E90023 		strd	r2, r3, [r6]
 134:Core/Src/spi.c ****     hdma_spi1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 349              		.loc 1 134 5 is_stmt 1 view .LVU120
 142:Core/Src/spi.c ****     {
 350              		.loc 1 142 9 is_stmt 0 view .LVU121
 351 00ac 3046     		mov	r0, r6
 136:Core/Src/spi.c ****     hdma_spi1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 352              		.loc 1 136 30 view .LVU122
 353 00ae 4FF48062 		mov	r2, #1024
 140:Core/Src/spi.c ****     hdma_spi1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 354              		.loc 1 140 32 view .LVU123
 355 00b2 4FF44033 		mov	r3, #196608
 135:Core/Src/spi.c ****     hdma_spi1_rx.Init.MemInc = DMA_MINC_ENABLE;
ARM GAS  /tmp/ccuCi7MD.s 			page 12


 356              		.loc 1 135 33 view .LVU124
 357 00b6 C6E90244 		strd	r4, r4, [r6, #8]
 136:Core/Src/spi.c ****     hdma_spi1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 358              		.loc 1 136 5 is_stmt 1 view .LVU125
 137:Core/Src/spi.c ****     hdma_spi1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 359              		.loc 1 137 43 is_stmt 0 view .LVU126
 360 00ba C6E90424 		strd	r2, r4, [r6, #16]
 138:Core/Src/spi.c ****     hdma_spi1_rx.Init.Mode = DMA_NORMAL;
 361              		.loc 1 138 5 is_stmt 1 view .LVU127
 139:Core/Src/spi.c ****     hdma_spi1_rx.Init.Priority = DMA_PRIORITY_VERY_HIGH;
 362              		.loc 1 139 28 is_stmt 0 view .LVU128
 363 00be C6E90644 		strd	r4, r4, [r6, #24]
 140:Core/Src/spi.c ****     hdma_spi1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 364              		.loc 1 140 5 is_stmt 1 view .LVU129
 140:Core/Src/spi.c ****     hdma_spi1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 365              		.loc 1 140 32 is_stmt 0 view .LVU130
 366 00c2 3362     		str	r3, [r6, #32]
 141:Core/Src/spi.c ****     if (HAL_DMA_Init(&hdma_spi1_rx) != HAL_OK)
 367              		.loc 1 141 5 is_stmt 1 view .LVU131
 142:Core/Src/spi.c ****     {
 368              		.loc 1 142 5 view .LVU132
 142:Core/Src/spi.c ****     {
 369              		.loc 1 142 9 is_stmt 0 view .LVU133
 370 00c4 FFF7FEFF 		bl	HAL_DMA_Init
 371              	.LVL8:
 142:Core/Src/spi.c ****     {
 372              		.loc 1 142 8 view .LVU134
 373 00c8 0028     		cmp	r0, #0
 374 00ca 46D1     		bne	.L28
 375              	.L16:
 147:Core/Src/spi.c **** 
 376              		.loc 1 147 5 is_stmt 1 view .LVU135
 147:Core/Src/spi.c **** 
 377              		.loc 1 147 5 view .LVU136
 150:Core/Src/spi.c ****     hdma_spi1_tx.Init.Channel = DMA_CHANNEL_3;
 378              		.loc 1 150 27 is_stmt 0 view .LVU137
 379 00cc 2B4C     		ldr	r4, .L30+28
 380 00ce 2C49     		ldr	r1, .L30+32
 147:Core/Src/spi.c **** 
 381              		.loc 1 147 5 view .LVU138
 382 00d0 EE64     		str	r6, [r5, #76]
 147:Core/Src/spi.c **** 
 383              		.loc 1 147 5 is_stmt 1 view .LVU139
 151:Core/Src/spi.c ****     hdma_spi1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 384              		.loc 1 151 31 is_stmt 0 view .LVU140
 385 00d2 4FF0C062 		mov	r2, #100663296
 386 00d6 C4E90012 		strd	r1, r2, [r4]
 154:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 387              		.loc 1 154 30 view .LVU141
 388 00da 4FF48062 		mov	r2, #1024
 153:Core/Src/spi.c ****     hdma_spi1_tx.Init.MemInc = DMA_MINC_ENABLE;
 389              		.loc 1 153 33 view .LVU142
 390 00de 0023     		movs	r3, #0
 152:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 391              		.loc 1 152 33 view .LVU143
 392 00e0 4021     		movs	r1, #64
 154:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
ARM GAS  /tmp/ccuCi7MD.s 			page 13


 393              		.loc 1 154 30 view .LVU144
 394 00e2 2261     		str	r2, [r4, #16]
 160:Core/Src/spi.c ****     {
 395              		.loc 1 160 9 view .LVU145
 396 00e4 2046     		mov	r0, r4
 158:Core/Src/spi.c ****     hdma_spi1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 397              		.loc 1 158 32 view .LVU146
 398 00e6 4FF40032 		mov	r2, #131072
 153:Core/Src/spi.c ****     hdma_spi1_tx.Init.MemInc = DMA_MINC_ENABLE;
 399              		.loc 1 153 33 view .LVU147
 400 00ea C4E90213 		strd	r1, r3, [r4, #8]
 156:Core/Src/spi.c ****     hdma_spi1_tx.Init.Mode = DMA_NORMAL;
 401              		.loc 1 156 40 view .LVU148
 402 00ee C4E90533 		strd	r3, r3, [r4, #20]
 158:Core/Src/spi.c ****     hdma_spi1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 403              		.loc 1 158 32 view .LVU149
 404 00f2 C4E90732 		strd	r3, r2, [r4, #28]
 147:Core/Src/spi.c **** 
 405              		.loc 1 147 5 view .LVU150
 406 00f6 B563     		str	r5, [r6, #56]
 147:Core/Src/spi.c **** 
 407              		.loc 1 147 5 is_stmt 1 view .LVU151
 150:Core/Src/spi.c ****     hdma_spi1_tx.Init.Channel = DMA_CHANNEL_3;
 408              		.loc 1 150 5 view .LVU152
 152:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 409              		.loc 1 152 5 view .LVU153
 154:Core/Src/spi.c ****     hdma_spi1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 410              		.loc 1 154 5 view .LVU154
 155:Core/Src/spi.c ****     hdma_spi1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 411              		.loc 1 155 5 view .LVU155
 157:Core/Src/spi.c ****     hdma_spi1_tx.Init.Priority = DMA_PRIORITY_HIGH;
 412              		.loc 1 157 5 view .LVU156
 159:Core/Src/spi.c ****     if (HAL_DMA_Init(&hdma_spi1_tx) != HAL_OK)
 413              		.loc 1 159 5 view .LVU157
 159:Core/Src/spi.c ****     if (HAL_DMA_Init(&hdma_spi1_tx) != HAL_OK)
 414              		.loc 1 159 32 is_stmt 0 view .LVU158
 415 00f8 6362     		str	r3, [r4, #36]
 160:Core/Src/spi.c ****     {
 416              		.loc 1 160 5 is_stmt 1 view .LVU159
 160:Core/Src/spi.c ****     {
 417              		.loc 1 160 9 is_stmt 0 view .LVU160
 418 00fa FFF7FEFF 		bl	HAL_DMA_Init
 419              	.LVL9:
 160:Core/Src/spi.c ****     {
 420              		.loc 1 160 8 view .LVU161
 421 00fe 48BB     		cbnz	r0, .L29
 422              	.L17:
 165:Core/Src/spi.c **** 
 423              		.loc 1 165 5 is_stmt 1 view .LVU162
 165:Core/Src/spi.c **** 
 424              		.loc 1 165 5 view .LVU163
 425 0100 AC64     		str	r4, [r5, #72]
 165:Core/Src/spi.c **** 
 426              		.loc 1 165 5 view .LVU164
 427 0102 A563     		str	r5, [r4, #56]
 165:Core/Src/spi.c **** 
 428              		.loc 1 165 5 view .LVU165
ARM GAS  /tmp/ccuCi7MD.s 			page 14


 429              		.loc 1 196 1 is_stmt 0 view .LVU166
 430 0104 0AB0     		add	sp, sp, #40
 431              		.cfi_remember_state
 432              		.cfi_def_cfa_offset 32
 433              		@ sp needed
 434 0106 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 435              	.LVL10:
 436              	.L27:
 437              		.cfi_restore_state
 177:Core/Src/spi.c **** 
 438              		.loc 1 177 5 is_stmt 1 view .LVU167
 439              	.LBB7:
 177:Core/Src/spi.c **** 
 440              		.loc 1 177 5 view .LVU168
 441 010a 174B     		ldr	r3, .L30+8
 442 010c 0394     		str	r4, [sp, #12]
 177:Core/Src/spi.c **** 
 443              		.loc 1 177 5 view .LVU169
 444 010e 1A6C     		ldr	r2, [r3, #64]
 445 0110 42F48042 		orr	r2, r2, #16384
 446 0114 1A64     		str	r2, [r3, #64]
 177:Core/Src/spi.c **** 
 447              		.loc 1 177 5 view .LVU170
 448 0116 1A6C     		ldr	r2, [r3, #64]
 449 0118 02F48042 		and	r2, r2, #16384
 450 011c 0392     		str	r2, [sp, #12]
 177:Core/Src/spi.c **** 
 451              		.loc 1 177 5 view .LVU171
 452 011e 039A     		ldr	r2, [sp, #12]
 453              	.LBE7:
 177:Core/Src/spi.c **** 
 454              		.loc 1 177 5 view .LVU172
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 455              		.loc 1 179 5 view .LVU173
 456              	.LBB8:
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 457              		.loc 1 179 5 view .LVU174
 458 0120 0494     		str	r4, [sp, #16]
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 459              		.loc 1 179 5 view .LVU175
 460 0122 1A6B     		ldr	r2, [r3, #48]
 461              	.LBE8:
 186:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 462              		.loc 1 186 26 is_stmt 0 view .LVU176
 463 0124 0224     		movs	r4, #2
 464              	.LBB9:
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 465              		.loc 1 179 5 view .LVU177
 466 0126 2243     		orrs	r2, r2, r4
 467 0128 1A63     		str	r2, [r3, #48]
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 468              		.loc 1 179 5 is_stmt 1 view .LVU178
 469 012a 1B6B     		ldr	r3, [r3, #48]
 470              	.LBE9:
 185:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 471              		.loc 1 185 25 is_stmt 0 view .LVU179
 472 012c 4FF46040 		mov	r0, #57344
ARM GAS  /tmp/ccuCi7MD.s 			page 15


 473              	.LVL11:
 185:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 474              		.loc 1 185 25 view .LVU180
 475 0130 0590     		str	r0, [sp, #20]
 476              	.LBB10:
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 477              		.loc 1 179 5 view .LVU181
 478 0132 2340     		ands	r3, r3, r4
 479              	.LBE10:
 187:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 480              		.loc 1 187 26 view .LVU182
 481 0134 0120     		movs	r0, #1
 482              	.LBB11:
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 483              		.loc 1 179 5 view .LVU183
 484 0136 0493     		str	r3, [sp, #16]
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 485              		.loc 1 179 5 is_stmt 1 view .LVU184
 486              	.LBE11:
 187:Core/Src/spi.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 487              		.loc 1 187 26 is_stmt 0 view .LVU185
 488 0138 CDE90640 		strd	r4, r0, [sp, #24]
 188:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 489              		.loc 1 188 27 view .LVU186
 490 013c 0322     		movs	r2, #3
 189:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 491              		.loc 1 189 31 view .LVU187
 492 013e 0523     		movs	r3, #5
 190:Core/Src/spi.c **** 
 493              		.loc 1 190 5 view .LVU188
 494 0140 0B48     		ldr	r0, .L30+16
 495              	.LBB12:
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 496              		.loc 1 179 5 view .LVU189
 497 0142 049D     		ldr	r5, [sp, #16]
 498              	.LBE12:
 179:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 499              		.loc 1 179 5 is_stmt 1 view .LVU190
 185:Core/Src/spi.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 500              		.loc 1 185 5 view .LVU191
 186:Core/Src/spi.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 501              		.loc 1 186 5 view .LVU192
 188:Core/Src/spi.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 502              		.loc 1 188 5 view .LVU193
 190:Core/Src/spi.c **** 
 503              		.loc 1 190 5 is_stmt 0 view .LVU194
 504 0144 05A9     		add	r1, sp, #20
 189:Core/Src/spi.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 505              		.loc 1 189 31 view .LVU195
 506 0146 CDE90823 		strd	r2, r3, [sp, #32]
 190:Core/Src/spi.c **** 
 507              		.loc 1 190 5 is_stmt 1 view .LVU196
 508 014a FFF7FEFF 		bl	HAL_GPIO_Init
 509              	.LVL12:
 510              		.loc 1 196 1 is_stmt 0 view .LVU197
 511 014e 0AB0     		add	sp, sp, #40
 512              		.cfi_remember_state
ARM GAS  /tmp/ccuCi7MD.s 			page 16


 513              		.cfi_def_cfa_offset 32
 514              		@ sp needed
 515 0150 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 516              	.LVL13:
 517              	.L29:
 518              		.cfi_restore_state
 162:Core/Src/spi.c ****     }
 519              		.loc 1 162 7 is_stmt 1 view .LVU198
 520 0154 FFF7FEFF 		bl	Error_Handler
 521              	.LVL14:
 522 0158 D2E7     		b	.L17
 523              	.L28:
 144:Core/Src/spi.c ****     }
 524              		.loc 1 144 7 view .LVU199
 525 015a FFF7FEFF 		bl	Error_Handler
 526              	.LVL15:
 527 015e B5E7     		b	.L16
 528              	.L31:
 529              		.align	2
 530              	.L30:
 531 0160 00300140 		.word	1073819648
 532 0164 00380040 		.word	1073756160
 533 0168 00380240 		.word	1073887232
 534 016c 00000000 		.word	.LANCHOR2
 535 0170 00040240 		.word	1073873920
 536 0174 00000240 		.word	1073872896
 537 0178 40640240 		.word	1073898560
 538 017c 00000000 		.word	.LANCHOR3
 539 0180 58640240 		.word	1073898584
 540              		.cfi_endproc
 541              	.LFE237:
 543              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 544              		.align	1
 545              		.p2align 2,,3
 546              		.global	HAL_SPI_MspDeInit
 547              		.syntax unified
 548              		.thumb
 549              		.thumb_func
 551              	HAL_SPI_MspDeInit:
 552              	.LVL16:
 553              	.LFB238:
 197:Core/Src/spi.c **** 
 198:Core/Src/spi.c **** void HAL_SPI_MspDeInit(SPI_HandleTypeDef* spiHandle)
 199:Core/Src/spi.c **** {
 554              		.loc 1 199 1 view -0
 555              		.cfi_startproc
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 200:Core/Src/spi.c **** 
 201:Core/Src/spi.c ****   if(spiHandle->Instance==SPI1)
 558              		.loc 1 201 3 view .LVU201
 559              		.loc 1 201 5 is_stmt 0 view .LVU202
 560 0000 154A     		ldr	r2, .L40
 561              		.loc 1 201 15 view .LVU203
 562 0002 0368     		ldr	r3, [r0]
 563              		.loc 1 201 5 view .LVU204
 564 0004 9342     		cmp	r3, r2
ARM GAS  /tmp/ccuCi7MD.s 			page 17


 565 0006 03D0     		beq	.L38
 202:Core/Src/spi.c ****   {
 203:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_MspDeInit 0 */
 204:Core/Src/spi.c **** 
 205:Core/Src/spi.c ****   /* USER CODE END SPI1_MspDeInit 0 */
 206:Core/Src/spi.c ****     /* Peripheral clock disable */
 207:Core/Src/spi.c ****     __HAL_RCC_SPI1_CLK_DISABLE();
 208:Core/Src/spi.c **** 
 209:Core/Src/spi.c ****     /**SPI1 GPIO Configuration
 210:Core/Src/spi.c ****     PB4     ------> SPI1_MISO
 211:Core/Src/spi.c ****     PB3     ------> SPI1_SCK
 212:Core/Src/spi.c ****     PA7     ------> SPI1_MOSI
 213:Core/Src/spi.c ****     */
 214:Core/Src/spi.c ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_4|GPIO_PIN_3);
 215:Core/Src/spi.c **** 
 216:Core/Src/spi.c ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_7);
 217:Core/Src/spi.c **** 
 218:Core/Src/spi.c ****     /* SPI1 DMA DeInit */
 219:Core/Src/spi.c ****     HAL_DMA_DeInit(spiHandle->hdmarx);
 220:Core/Src/spi.c ****     HAL_DMA_DeInit(spiHandle->hdmatx);
 221:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_MspDeInit 1 */
 222:Core/Src/spi.c **** 
 223:Core/Src/spi.c ****   /* USER CODE END SPI1_MspDeInit 1 */
 224:Core/Src/spi.c ****   }
 225:Core/Src/spi.c ****   else if(spiHandle->Instance==SPI2)
 566              		.loc 1 225 8 is_stmt 1 view .LVU205
 567              		.loc 1 225 10 is_stmt 0 view .LVU206
 568 0008 144A     		ldr	r2, .L40+4
 569 000a 9342     		cmp	r3, r2
 570 000c 18D0     		beq	.L39
 571 000e 7047     		bx	lr
 572              	.L38:
 207:Core/Src/spi.c **** 
 573              		.loc 1 207 5 is_stmt 1 view .LVU207
 574 0010 02F58432 		add	r2, r2, #67584
 199:Core/Src/spi.c **** 
 575              		.loc 1 199 1 is_stmt 0 view .LVU208
 576 0014 10B5     		push	{r4, lr}
 577              		.cfi_def_cfa_offset 8
 578              		.cfi_offset 4, -8
 579              		.cfi_offset 14, -4
 207:Core/Src/spi.c **** 
 580              		.loc 1 207 5 view .LVU209
 581 0016 536C     		ldr	r3, [r2, #68]
 582 0018 23F48053 		bic	r3, r3, #4096
 583 001c 0446     		mov	r4, r0
 584 001e 5364     		str	r3, [r2, #68]
 214:Core/Src/spi.c **** 
 585              		.loc 1 214 5 is_stmt 1 view .LVU210
 586 0020 0F48     		ldr	r0, .L40+8
 587              	.LVL17:
 214:Core/Src/spi.c **** 
 588              		.loc 1 214 5 is_stmt 0 view .LVU211
 589 0022 1821     		movs	r1, #24
 590 0024 FFF7FEFF 		bl	HAL_GPIO_DeInit
 591              	.LVL18:
 216:Core/Src/spi.c **** 
ARM GAS  /tmp/ccuCi7MD.s 			page 18


 592              		.loc 1 216 5 is_stmt 1 view .LVU212
 593 0028 0E48     		ldr	r0, .L40+12
 594 002a 8021     		movs	r1, #128
 595 002c FFF7FEFF 		bl	HAL_GPIO_DeInit
 596              	.LVL19:
 219:Core/Src/spi.c ****     HAL_DMA_DeInit(spiHandle->hdmatx);
 597              		.loc 1 219 5 view .LVU213
 598 0030 E06C     		ldr	r0, [r4, #76]
 599 0032 FFF7FEFF 		bl	HAL_DMA_DeInit
 600              	.LVL20:
 220:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_MspDeInit 1 */
 601              		.loc 1 220 5 view .LVU214
 602 0036 A06C     		ldr	r0, [r4, #72]
 226:Core/Src/spi.c ****   {
 227:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_MspDeInit 0 */
 228:Core/Src/spi.c **** 
 229:Core/Src/spi.c ****   /* USER CODE END SPI2_MspDeInit 0 */
 230:Core/Src/spi.c ****     /* Peripheral clock disable */
 231:Core/Src/spi.c ****     __HAL_RCC_SPI2_CLK_DISABLE();
 232:Core/Src/spi.c **** 
 233:Core/Src/spi.c ****     /**SPI2 GPIO Configuration
 234:Core/Src/spi.c ****     PB13     ------> SPI2_SCK
 235:Core/Src/spi.c ****     PB14     ------> SPI2_MISO
 236:Core/Src/spi.c ****     PB15     ------> SPI2_MOSI
 237:Core/Src/spi.c ****     */
 238:Core/Src/spi.c ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_13|GPIO_PIN_14|GPIO_PIN_15);
 239:Core/Src/spi.c **** 
 240:Core/Src/spi.c ****   /* USER CODE BEGIN SPI2_MspDeInit 1 */
 241:Core/Src/spi.c **** 
 242:Core/Src/spi.c ****   /* USER CODE END SPI2_MspDeInit 1 */
 243:Core/Src/spi.c ****   }
 244:Core/Src/spi.c **** }
 603              		.loc 1 244 1 is_stmt 0 view .LVU215
 604 0038 BDE81040 		pop	{r4, lr}
 605              		.cfi_restore 14
 606              		.cfi_restore 4
 607              		.cfi_def_cfa_offset 0
 608              	.LVL21:
 220:Core/Src/spi.c ****   /* USER CODE BEGIN SPI1_MspDeInit 1 */
 609              		.loc 1 220 5 view .LVU216
 610 003c FFF7FEBF 		b	HAL_DMA_DeInit
 611              	.LVL22:
 612              	.L39:
 231:Core/Src/spi.c **** 
 613              		.loc 1 231 5 is_stmt 1 view .LVU217
 614 0040 02F50032 		add	r2, r2, #131072
 238:Core/Src/spi.c **** 
 615              		.loc 1 238 5 is_stmt 0 view .LVU218
 616 0044 0648     		ldr	r0, .L40+8
 617              	.LVL23:
 231:Core/Src/spi.c **** 
 618              		.loc 1 231 5 view .LVU219
 619 0046 136C     		ldr	r3, [r2, #64]
 620 0048 23F48043 		bic	r3, r3, #16384
 238:Core/Src/spi.c **** 
 621              		.loc 1 238 5 view .LVU220
 622 004c 4FF46041 		mov	r1, #57344
ARM GAS  /tmp/ccuCi7MD.s 			page 19


 231:Core/Src/spi.c **** 
 623              		.loc 1 231 5 view .LVU221
 624 0050 1364     		str	r3, [r2, #64]
 238:Core/Src/spi.c **** 
 625              		.loc 1 238 5 is_stmt 1 view .LVU222
 626 0052 FFF7FEBF 		b	HAL_GPIO_DeInit
 627              	.LVL24:
 628              	.L41:
 629 0056 00BF     		.align	2
 630              	.L40:
 631 0058 00300140 		.word	1073819648
 632 005c 00380040 		.word	1073756160
 633 0060 00040240 		.word	1073873920
 634 0064 00000240 		.word	1073872896
 635              		.cfi_endproc
 636              	.LFE238:
 638              		.global	hdma_spi1_tx
 639              		.global	hdma_spi1_rx
 640              		.global	hspi2
 641              		.global	hspi1
 642              		.section	.bss.hdma_spi1_rx,"aw",%nobits
 643              		.align	2
 644              		.set	.LANCHOR2,. + 0
 647              	hdma_spi1_rx:
 648 0000 00000000 		.space	96
 648      00000000 
 648      00000000 
 648      00000000 
 648      00000000 
 649              		.section	.bss.hdma_spi1_tx,"aw",%nobits
 650              		.align	2
 651              		.set	.LANCHOR3,. + 0
 654              	hdma_spi1_tx:
 655 0000 00000000 		.space	96
 655      00000000 
 655      00000000 
 655      00000000 
 655      00000000 
 656              		.section	.bss.hspi1,"aw",%nobits
 657              		.align	2
 658              		.set	.LANCHOR0,. + 0
 661              	hspi1:
 662 0000 00000000 		.space	88
 662      00000000 
 662      00000000 
 662      00000000 
 662      00000000 
 663              		.section	.bss.hspi2,"aw",%nobits
 664              		.align	2
 665              		.set	.LANCHOR1,. + 0
 668              	hspi2:
 669 0000 00000000 		.space	88
 669      00000000 
 669      00000000 
 669      00000000 
 669      00000000 
 670              		.text
ARM GAS  /tmp/ccuCi7MD.s 			page 20


 671              	.Letext0:
 672              		.file 2 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 673              		.file 3 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 674              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 675              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 676              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 677              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 678              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 679              		.file 9 "Core/Inc/spi.h"
 680              		.file 10 "Core/Inc/main.h"
ARM GAS  /tmp/ccuCi7MD.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spi.c
     /tmp/ccuCi7MD.s:20     .text.MX_SPI1_Init:0000000000000000 $t
     /tmp/ccuCi7MD.s:27     .text.MX_SPI1_Init:0000000000000000 MX_SPI1_Init
     /tmp/ccuCi7MD.s:94     .text.MX_SPI1_Init:0000000000000040 $d
     /tmp/ccuCi7MD.s:100    .text.MX_SPI2_Init:0000000000000000 $t
     /tmp/ccuCi7MD.s:107    .text.MX_SPI2_Init:0000000000000000 MX_SPI2_Init
     /tmp/ccuCi7MD.s:173    .text.MX_SPI2_Init:0000000000000040 $d
     /tmp/ccuCi7MD.s:179    .text.HAL_SPI_MspInit:0000000000000000 $t
     /tmp/ccuCi7MD.s:186    .text.HAL_SPI_MspInit:0000000000000000 HAL_SPI_MspInit
     /tmp/ccuCi7MD.s:531    .text.HAL_SPI_MspInit:0000000000000160 $d
     /tmp/ccuCi7MD.s:544    .text.HAL_SPI_MspDeInit:0000000000000000 $t
     /tmp/ccuCi7MD.s:551    .text.HAL_SPI_MspDeInit:0000000000000000 HAL_SPI_MspDeInit
     /tmp/ccuCi7MD.s:631    .text.HAL_SPI_MspDeInit:0000000000000058 $d
     /tmp/ccuCi7MD.s:654    .bss.hdma_spi1_tx:0000000000000000 hdma_spi1_tx
     /tmp/ccuCi7MD.s:647    .bss.hdma_spi1_rx:0000000000000000 hdma_spi1_rx
     /tmp/ccuCi7MD.s:668    .bss.hspi2:0000000000000000 hspi2
     /tmp/ccuCi7MD.s:661    .bss.hspi1:0000000000000000 hspi1
     /tmp/ccuCi7MD.s:643    .bss.hdma_spi1_rx:0000000000000000 $d
     /tmp/ccuCi7MD.s:650    .bss.hdma_spi1_tx:0000000000000000 $d
     /tmp/ccuCi7MD.s:657    .bss.hspi1:0000000000000000 $d
     /tmp/ccuCi7MD.s:664    .bss.hspi2:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_SPI_Init
Error_Handler
HAL_GPIO_Init
HAL_DMA_Init
HAL_GPIO_DeInit
HAL_DMA_DeInit
